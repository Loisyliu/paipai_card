<!DOCTYPE html>
<!-- è¯­è¨€è®¾ä¸ºä¸­æ–‡ï¼Œç¡®ä¿å…¼å®¹æ€§ -->
<html lang="zh-CN">
<head>
    <!-- è®¾ç½®å­—ç¬¦ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç  -->
    <meta charset="UTF-8">
    <!-- è¿™ä¸ªæ ‡ç­¾æ˜¯é€‚é…æ‰‹æœºå±å¹•çš„å…³é”® -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ æ´¾æ´¾çš„æ˜¥èŠ‚çº¢åŒ… ğŸ</title>
    <!-- ä»è¿™é‡Œå¼€å§‹æ˜¯æ§åˆ¶é¡µé¢æ ·å¼çš„CSSä»£ç  -->
    <style>
        /* 1. è®¾ç½®å…¨å±€æ ·å¼ï¼šç§»é™¤é»˜è®¤è¾¹è·ï¼Œä½¿ç”¨å–œåº†çš„çº¢è‰²æ¸å˜èƒŒæ™¯ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Microsoft YaHei', sans-serif; /* ä½¿ç”¨å¾®è½¯é›…é»‘å­—ä½“ */
            background: linear-gradient(135deg, #FF6B6B, #FFD93D, #6BCB77, #4D96FF); /* é²œè‰³çš„å½©è™¹æ¸å˜èƒŒæ™¯ */
            color: #FF6B6B; /* çº¢è‰²å­—ä½“ */
            min-height: 100vh; /* ç¡®ä¿è‡³å°‘å æ»¡æ•´ä¸ªå±å¹•é«˜åº¦ */
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            overflow-x: hidden;
        }

        /* 2. ä¸»å¡ç‰‡å®¹å™¨ï¼šæ¨¡æ‹Ÿè´ºå¡æ•ˆæœ */
        .card {
            background-color: rgba(255, 255, 255, 0.9); /* åŠé€æ˜ç™½è‰²åº• */
            border-radius: 30px; /* å¤§åœ†è§’ */
            padding: 30px 25px;
            margin-top: 20px;
            width: 95%; /* å®½åº¦å å±å¹•95%ï¼Œé€‚åº”ä¸åŒæ‰‹æœº */
            max-width: 500px; /* ä½†åœ¨å¤§å±ä¸Šä¸è¶…è¿‡500px */
            border: 5px solid #FF6B6B; /* çº¢è‰²å®çº¿è¾¹æ¡† */
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); /* é˜´å½±å¢åŠ ç«‹ä½“æ„Ÿ */
        }

        /* 3. æ ‡é¢˜æ ·å¼ï¼šä½¿ç”¨é†’ç›®çš„åŠ¨ç”» */
        h1 {
            font-size: 2.5rem; /* æ›´å¤§çš„å­—ä½“ */
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2); /* æ–‡å­—é˜´å½± */
            color: #FF6B6B; /* çº¢è‰² */
            animation: bounce 1s ease-in-out infinite alternate; /* åº”ç”¨å¼¹è·³åŠ¨ç”» */
        }
        /* å®šä¹‰æ ‡é¢˜çš„å¼¹è·³åŠ¨ç”» */
        @keyframes bounce {
            from { transform: translateY(0px); }
            to { transform: translateY(-10px); }
        }

        /* 4. ç¥ç¦è¯­æ®µè½æ ·å¼ */
        .greeting {
            font-size: 1.5rem; /* æ›´å¤§çš„å­—ä½“ */
            line-height: 2; /* å¢åŠ è¡Œé«˜ï¼Œæ›´æ˜“é˜…è¯» */
            margin: 25px 0;
            padding: 0 10px;
            color: #4ECDC4;
            font-weight: bold;
        }

        /* 5. è£…é¥°æ€§å…ƒç´ ï¼šç¯ç¬¼å’Œé­ç‚® */
        .decorations {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }
        .lantern {
            font-size: 2rem;
            animation: swing 2s ease-in-out infinite alternate;
        }
        .firecracker {
            font-size: 1.5rem;
            animation: crackle 0.5s ease-in-out infinite;
        }
        @keyframes swing {
            from { transform: rotate(-5deg); }
            to { transform: rotate(5deg); }
        }
        @keyframes crackle {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }

        /* 6. çº¢åŒ…æ ·å¼ */
        .red-pocket {
            width: 200px;
            height: 150px;
            background: linear-gradient(135deg, #FF2400, #C21807);
            border-radius: 20px;
            margin: 30px auto;
            position: relative;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            border: 3px solid #FFD700;
        }
        .red-pocket:hover, .red-pocket:active {
            transform: scale(1.1) rotate(5deg); /* æ”¾å¤§å¹¶æ—‹è½¬ */
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }
        .red-pocket::before {
            content: "ğŸ§§";
            font-size: 5rem;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
        .red-pocket::after {
            content: "ç‚¹å‡»æ‹†çº¢åŒ…";
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 1.2rem;
            color: #FF6B6B;
            font-weight: bold;
        }

        /* 7. é¡µè„šæ ·å¼ */
        .footer {
            margin-top: 30px;
            font-size: 1rem;
            opacity: 0.8;
            color: #FF6B6B;
        }

        /* 8. è£…é¥°æ€§åŠ¨ç”»ï¼šé£˜è½çš„â€œé‡‘èŠ±â€å’Œâ€œçˆ±å¿ƒâ€ */
        .flake {
            position: absolute;
            font-size: 1.5rem;
            pointer-events: none; /* ç¡®ä¿ä¸å¹²æ‰°ç‚¹å‡»æ“ä½œ */
            opacity: 0.8;
            animation: fall linear infinite;
        }
        /* å®šä¹‰é‡‘èŠ±é£˜è½çš„åŠ¨ç”» */
        @keyframes fall {
            to { transform: translateY(100vh); }
        }

        /* 9. éŸ³ä¹æ§åˆ¶æŒ‰é’® */
        .music-control {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: #FF6B6B;
            color: white;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 1000;
        }

        /* 10. ç¤¼ç‰©å¼¹çª—æ ·å¼ */
        .gift-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            max-width: 90%;
            width: 400px;
        }
        .gift-content {
            font-size: 2rem;
            margin-bottom: 20px;
        }
        .gift-text {
            font-size: 1.5rem;
            color: #FF6B6B;
            font-weight: bold;
        }

        /* 11. åŠ¨ç”»æ•ˆæœç±» */
        @keyframes popIn {
            from { transform: scale(0) translate(-50%, -50%); opacity: 0; }
            to { transform: scale(1) translate(-50%, -50%); opacity: 1; }
        }
        @keyframes slideIn {
            from { transform: translateY(-200px) translate(-50%, -50%); opacity: 0; }
            to { transform: translateY(0) translate(-50%, -50%); opacity: 1; }
        }
        @keyframes rotateIn {
            from { transform: rotate(0deg) scale(0) translate(-50%, -50%); opacity: 0; }
            to { transform: rotate(360deg) scale(1) translate(-50%, -50%); opacity: 1; }
        }
        .animate-pop {
            animation: popIn 0.5s ease-out forwards;
        }
        .animate-slide {
            animation: slideIn 0.5s ease-out forwards;
        }
        .animate-rotate {
            animation: rotateIn 0.5s ease-out forwards;
        }
    </style>
</head>
<body>
    <!-- éŸ³ä¹æ§åˆ¶æŒ‰é’® -->
    <button class="music-control" onclick="toggleMusic()" id="musicBtn">ğŸ”Š</button>

    <!-- é¡µé¢ä¸»ä½“å†…å®¹ -->
    <div class="card">
        <!-- è£…é¥°å…ƒç´  -->
        <div class="decorations">
            <div class="lantern">ğŸ®</div>
            <div class="firecracker">ğŸ§¨</div>
            <div class="lantern">ğŸ®</div>
        </div>

        <!-- ä¸»æ ‡é¢˜ -->
        <h1>ğŸ æ´¾æ´¾çš„æ˜¥èŠ‚çº¢åŒ… ğŸ</h1>

        <!-- ä¸»è¦ç¥ç¦è¯­ -->
        <p class="greeting">
            æ–°å¹´å¿«ä¹ï¼<br>
            å¿«æ¥æ‹†çº¢åŒ…å§ï¼<br>
            ğŸ‰ ğŸ‰ ğŸ‰
        </p>

        <!-- çº¢åŒ…äº¤äº’å…ƒç´  -->
        <div class="red-pocket" onclick="openRedPocket()"></div>

        <!-- é¡µè„šç½²å -->
        <p class="footer">â€”â€” ä¸‰å²çš„æ´¾æ´¾  æ•¬ä¸Š â€”â€”</p>
    </div>

    <!-- ä»è¿™é‡Œå¼€å§‹æ˜¯æ§åˆ¶äº¤äº’çš„JavaScriptä»£ç  -->
    <script>
        // 1. éŸ³ä¹æ§åˆ¶å˜é‡
        let music = null;
        let isMusicPlaying = false;

        // 2. ç¤¼ç‰©æ•°æ®
        const gifts = [
            { type: 'text', content: 'æ–°å¹´å¿«ä¹ï¼', emoji: 'ğŸ‰' },
            { type: 'text', content: 'æ­å–œå‘è´¢ï¼', emoji: 'ğŸ’°' },
            { type: 'text', content: 'èº«ä½“å¥åº·ï¼', emoji: 'ğŸ’ª' },
            { type: 'text', content: 'ä¸‡äº‹å¦‚æ„ï¼', emoji: 'ğŸŒŸ' },
            { type: 'text', content: 'é¾™é©¬ç²¾ç¥ï¼', emoji: 'ğŸ' },
            { type: 'emoji', content: 'ğŸŒ¹', name: 'æ¼‚äº®çš„èŠ±' },
            { type: 'emoji', content: 'ğŸ†', name: 'ç»šä¸½çš„çƒŸèŠ±' },
            { type: 'emoji', content: 'ğŸŒˆ', name: 'ç¾ä¸½çš„å½©è™¹' },
            { type: 'emoji', content: 'ğŸ­', name: 'ç”œç”œçš„æ£’æ£’ç³–' },
            { type: 'emoji', content: 'ğŸ', name: 'ç¥ç§˜ç¤¼ç‰©' },
            { type: 'animal', content: 'ğŸ', name: 'å°é©¬' },
            { type: 'animal', content: 'ğŸ¯', name: 'å°è€è™' },
            { type: 'animal', content: 'ğŸ°', name: 'å°å…”å­' },
            { type: 'animal', content: 'ğŸ¶', name: 'å°ç‹—' },
            { type: 'animal', content: 'ğŸ·', name: 'å°çŒª' }
        ];

        // 3. åŠ¨ç”»ç±»å‹
        const animations = ['animate-pop', 'animate-slide', 'animate-rotate'];

        // 4. åŠ¨æ€åˆ›å»ºé£˜è½çš„è£…é¥°ï¼ˆé‡‘èŠ±ã€çˆ±å¿ƒã€æ˜Ÿæ˜Ÿç­‰ï¼‰
        function createFlakes() {
            const decorations = ['âœ¨', 'ğŸ’–', 'ğŸŠ', 'ğŸ€', 'ğŸŒŸ', 'ğŸ’«'];
            const flakeCount = window.innerWidth < 768 ? 20 : 40;
            
            for (let i = 0; i < flakeCount; i++) {
                setTimeout(() => {
                    const flake = document.createElement('div');
                    flake.classList.add('flake');
                    flake.textContent = decorations[Math.floor(Math.random() * decorations.length)];
                    flake.style.left = `${Math.random() * 100}vw`;
                    flake.style.animationDuration = `${Math.random() * 3 + 4}s`;
                    flake.style.opacity = Math.random() * 0.6 + 0.4;
                    flake.style.fontSize = `${Math.random() * 2 + 1}rem`;
                    flake.style.transform = `rotate(${Math.random() * 360}deg)`;
                    
                    document.body.appendChild(flake);
                    
                    setTimeout(() => { flake.remove(); }, 8000);
                }, i * 200);
            }
        }

        // 5. åˆå§‹åŒ–èƒŒæ™¯éŸ³ä¹
        function initMusic() {
            // åˆ›å»ºéŸ³é¢‘å¯¹è±¡ï¼ˆä½¿ç”¨æµè§ˆå™¨æ”¯æŒçš„éŸ³é¢‘æ ¼å¼ï¼‰
            music = new Audio();
            
            // æ³¨æ„ï¼šè¿™é‡Œéœ€è¦æ›¿æ¢ä¸ºå®é™…çš„éŸ³ä¹æ–‡ä»¶è·¯å¾„
            // ç”±äºæ˜¯ç¤ºä¾‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåœ¨çº¿çš„æ˜¥èŠ‚éŸ³ä¹æ ·æœ¬
            music.src = 'https://assets.mixkit.co/active_storage/sfx/2735/2735-preview.mp3';
            music.loop = true;
            music.volume = 0.5;
            
            // å°è¯•è‡ªåŠ¨æ’­æ”¾éŸ³ä¹ï¼ˆç¬¦åˆæµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾æ”¿ç­–ï¼‰
            music.play().catch(error => {
                console.log('è‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œéœ€è¦ç”¨æˆ·äº¤äº’åæ’­æ”¾:', error);
            });
            
            isMusicPlaying = true;
        }

        // 6. åˆ‡æ¢éŸ³ä¹æ’­æ”¾/æš‚åœçŠ¶æ€
        function toggleMusic() {
            if (!music) {
                initMusic();
                return;
            }
            
            const musicBtn = document.getElementById('musicBtn');
            
            if (isMusicPlaying) {
                music.pause();
                musicBtn.textContent = 'ğŸ”‡';
            } else {
                music.play();
                musicBtn.textContent = 'ğŸ”Š';
            }
            
            isMusicPlaying = !isMusicPlaying;
        }

        // 7. æ‰“å¼€çº¢åŒ…åŠ¨ç”»
        function openRedPocket() {
            const redPocket = document.querySelector('.red-pocket');
            
            // çº¢åŒ…ç‚¹å‡»åŠ¨ç”»
            redPocket.style.transform = 'scale(0.8) rotate(10deg)';
            
            setTimeout(() => {
                redPocket.style.transform = 'scale(1.1) rotate(-10deg)';
            }, 100);
            
            setTimeout(() => {
                redPocket.style.transform = 'scale(1) rotate(0deg)';
                
                // æ˜¾ç¤ºéšæœºç¤¼ç‰©
                showRandomGift();
                
                // è§¦å‘é£˜è½è£…é¥°
                createFlakes();
            }, 200);
        }

        // 8. æ˜¾ç¤ºéšæœºç¤¼ç‰©
        function showRandomGift() {
            // ç§»é™¤å·²æœ‰çš„ç¤¼ç‰©å¼¹çª—
            const existingPopup = document.querySelector('.gift-popup');
            if (existingPopup) {
                existingPopup.remove();
            }
            
            // éšæœºé€‰æ‹©ç¤¼ç‰©
            const randomGift = gifts[Math.floor(Math.random() * gifts.length)];
            
            // éšæœºé€‰æ‹©åŠ¨ç”»
            const randomAnimation = animations[Math.floor(Math.random() * animations.length)];
            
            // åˆ›å»ºç¤¼ç‰©å¼¹çª—
            const popup = document.createElement('div');
            popup.className = `gift-popup ${randomAnimation}`;
            
            // è®¾ç½®ç¤¼ç‰©å†…å®¹
            let giftContent = '';
            let giftText = '';
            
            switch (randomGift.type) {
                case 'text':
                    giftContent = randomGift.emoji;
                    giftText = randomGift.content;
                    break;
                case 'emoji':
                    giftContent = randomGift.content;
                    giftText = randomGift.name;
                    break;
                case 'animal':
                    giftContent = randomGift.content;
                    giftText = `å¯çˆ±çš„${randomGift.name}`;
                    break;
            }
            
            popup.innerHTML = `
                <div class="gift-content">${giftContent}</div>
                <div class="gift-text">${giftText}</div>
            `;
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(popup);
            
            // 3ç§’åè‡ªåŠ¨å…³é—­å¼¹çª—
            setTimeout(() => {
                popup.style.opacity = '0';
                popup.style.transform = 'translate(-50%, -50%) scale(0.5)';
                popup.style.transition = 'all 0.5s ease';
                
                setTimeout(() => {
                    popup.remove();
                }, 500);
            }, 3000);
        }

        // 9. é¡µé¢åŠ è½½å®Œæˆåï¼Œæ‰§è¡Œåˆå§‹åŒ–
        window.onload = function() {
            // é¦–æ¬¡åˆ›å»ºèƒŒæ™¯è£…é¥°
            createFlakes();
            // æ¯8ç§’é‡æ–°åˆ›å»ºä¸€æ‰¹è£…é¥°
            setInterval(createFlakes, 8000);
            
            // åˆå§‹åŒ–éŸ³ä¹
            initMusic();
        };
    </script>
</body>
</html>